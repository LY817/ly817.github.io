# 可靠消息服务

# RocketMQ事务消息

RocketMQ中的half message

事务开始时，提交一个half message到队列，开始执行本地事务

- 事务执行成功

## 基本使用

1. 创建`TransactionMQProducer`

2. 添加事务监听器

```java
producer.setTransactionListener(new TransacationListener(){
    @Override
    public LocalTransactionState executeLocalTransaction(Message msg
                                                        ,Object org){
		// 执行事务逻辑
    }
    @Override
    public LocalTransactionState checkLocalTransaction(MessageExt msg){
		// MQ进行消息事务状态回查
    }
});
```

3. 发送事务消息 `producer.sendMessageInTransaction(msg,arg)`

