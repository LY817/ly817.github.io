## 角色

### NameServer

用来管理集群里所有Broker的信，mq集群对外暴露服务之后NameServer

让MQ的客户端可以感知到集群里有哪些Broker

- 客户端会定时从NameServer拉取集群中所有的broker信息
- broker通过心跳机制 告知NameServer自己是否在线
  - 10s检查一次心跳状态 如果120s没有更新心跳 则表示该broker下线

> NameServer可以多台部署，每一台都保存集群中所有broker信息

### Broker

提供消息队列服务的进程

#### 主从集群

rocketmq默认是集群模式，分为Master节点和slave节点

写数据

> 没有规定读写分离，主从节点共同分担读写负载
>
> - master写负载高时，会让客户端从客户端拉取数据
> - 当slave不能跟master数据同步时，只能从master同步

#### 分布式节点

多组Master-Slave集群将数据分布式存储，每一个主从集群作为分布式存储的一个节点

### Producer 消息生产者



### Consumer 消息消费者

## Topic



### 分布式存储



